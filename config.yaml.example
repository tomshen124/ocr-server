# OCR Server Configuration Template
# Copy this file to config.yaml and modify as needed

# Basic service configuration
host: "http://127.0.0.1"
port: 31101
preview_url: "http://127.0.0.1:31101"
session_timeout: 86400
app_id: "your_app_id"
callback_url: "http://127.0.0.1:31101/api/sso/callback"

# Single Sign-On configuration
login:
  sso_login_url: "https://your-sso-provider.com/login"
  access_token_url: "https://your-sso-provider.com/token"
  get_user_info_url: "https://your-sso-provider.com/userinfo"
  access_key: "your_access_key"
  secret_key: "your_secret_key"
  use_callback: false

# Object storage configuration
zhzwdt-oss:
  root: "ocr-files"
  bucket: "your-bucket"
  server_url: "your-oss-endpoint.com"
  AccessKey: "your_access_key"
  AccessKey Secret: "your_secret_key"

# Database configuration
DMSql:
  DATABASE_HOST: "localhost"
  DATABASE_PORT: "5236"
  DATABASE_USER: "username"
  DATABASE_PASSWORD: "password"
  DATABASE_NAME: "OCR_DB"

# Approval system configuration
approve:
  submit-url: "https://your-approval-system.com/submit"
  access-key: "your_access_key"
  secret-key: "your_secret_key"

# Debug configuration (disable in production)
debug:
  enabled: false
  enable_mock_login: false
  mock_login_warning: false
  tools_enabled:
    api_test: false
    mock_login: false
    preview_demo: false
    flow_test: false
    system_monitor: false
    data_manager: false

# Test mode configuration (disable in production)
test_mode:
  enabled: false
  auto_login: false
  mock_ocr: false
  mock_delay: 100
  test_user:
    id: "test_user_001"
    username: "Test User"
    email: "test@example.com"
    role: "tester"

# Logging configuration
logging:
  level: "info"
  file:
    enabled: true
    directory: "runtime/logs"
    retention_days: 7

# Monitoring configuration
monitoring:
  enabled: true

# Theme rules configuration
themes:
  enabled: true
  config_file: "themes.json"
  rules_directory: "rules"
  default_theme: "theme_001"

# Third-party access control
third_party_access:
  enabled: true
  signature:
    required: true
    timestamp_tolerance: 300
  rate_limiting:
    enabled: true
    requests_per_minute: 100
    requests_per_hour: 1000
  clients:
    - client_id: "demo_client"
      secret_key: "change_this_in_production"
      name: "Demo Client"
      enabled: true
      permissions: ["preview", "query"]

# Failover configuration
failover:
  database:
    enabled: true
    health_check_interval: 30
    max_retries: 3
    retry_delay: 1000
    fallback_to_local: true
    local_data_dir: "runtime/fallback/db"
  storage:
    enabled: true
    health_check_interval: 30
    max_retries: 3
    retry_delay: 1000
    auto_switch_to_local: true
    sync_when_recovered: true
    local_fallback_dir: "runtime/fallback/storage"